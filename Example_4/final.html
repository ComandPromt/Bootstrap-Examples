<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="Bootstrap&JQuery/datatables.min.css">
    <link rel="stylesheet" href="Bootstrap&JQuery/css/bootstrap.min.css">
    <link rel="stylesheet" href="Bootstrap&JQuery/FicherosFijos/tables.css">
    <link rel="stylesheet" href="final.css">
    <script src="Bootstrap&JQuery/jquery-3.3.1.min.js"></script>
    <script src="Bootstrap&JQuery/dist/jquery.validate.min.js"></script>
    <script src="Bootstrap&JQuery/js/bootstrap.min.js"></script>
    <script src="Bootstrap&JQuery/datatables.min.js"></script>
</head>

<body>
    <div class="pos-f-t">
        <div class="collapse" id="navbarToggleExternalContent">
            <div class="bg-dark p-2 text-center row list-inline list-group-flush mx-auto">
                <ul class="list-inline list-group-flush nomarginBot">
                    <li class="list-inline-item col-md-1"><a href="final.html"> Página 1</a></li>
                    <li class="list-inline-item col-md-1"><a href="tablaFinal.html"> Tabla 1</a></li>
                    <li class="list-inline-item col-md-1"><a href="final2.html"> Página 2</a></li>
                    <li class="list-inline-item col-md-1"><a href="tablaFinal2.html"> Tabla 2</a></li>
                    <li class="list-inline-item col-md-1"><a href="final3.html"> Página 3</a></li>
                    <li class="list-inline-item col-md-1"><a href="tablaFinal3.html"> Tabla 3</a></li>
                    <li class="list-inline-item col-md-1"><a href="final4.html"> Página 4</a></li>
                </ul>
            </div>
        </div>
        <nav class="navbar navbar-dark bg-dark">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent"
                aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </nav>
    </div>
    <div class="container">
        <div class="row cab ini">
            <div class="col-md-12">Registro Facturas</div>
        </div>
        <div class="row cab">
            <div class="col-md-12">Aportar los datos de la factura</div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h5>Texto explicativo (Máximo 120 caracteres)</h5>
            </div>
        </div>
        <form id="register-form">
            <div class="form-row">
                <div class="form-group col-md-7">
                    <label for="tex"><small id="TextHelpBlock" class="form-text text-muted">
                            Texto explicativo (Máximo 120 caracteres)
                        </small></label>
                    <textarea id="tex" class="form-control" name="tex" rows="1" maxlength="120"></textarea>
                    <span class="help-block" id="error"></span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <h5>Datos de la factura</h5>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <label for="fac"><small class="form-text text-muted">
                            La factura se imputará al ejercicio contable indicado por la fecha de expedición
                        </small></label>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-1">
                    <label for="dia"><small class="form-text text-muted">Expedición
                        </small></label>
                    <input type="date" name="dia" id="dia" class="form-control">
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-2"></div>
                <div class="form-group col-md-3">
                    <label for="ser"><small class="form-text text-muted">Serie
                        </small></label>
                    <input type="text" name="ser" id="ser" class="form-control">
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-3">
                    <label for="num"><small class="form-text text-muted">Número
                        </small></label>
                    <input type="text" name="num" id="num" class="form-control">
                    <span class="help-block" id="error"></span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-2">
                    <label for="tipF"><small id="TextHelpBlock" class="form-text text-muted">
                            Tipo de factura
                        </small></label>
                    <select id="tipF" class="form-control" name="tipF">
                        <option value="">Seleccionar</option>
                        <option value="1">Factura</option>
                        <option value="2">Recibo</option>
                    </select>
                    <span class="help-block" id="error"></span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <h5>Detalle de la factura</h5>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-5">
                    <label for="ref"><small class="form-text text-muted">
                            Expediente o referencia de contratación
                        </small></label>
                    <input type="text" name="ref" id="ref" class="form-control">
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-1"></div>
                <div class="form-group col-md-5">
                    <label for="dep"><small class="form-text text-muted">
                            Departamento
                        </small></label>
                    <input type="text" name="dep" id="dep" class="form-control">
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-1"></div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-5">
                    <label for="pc"><small class="form-text text-muted">
                            Persona de Contacto
                        </small></label>
                    <input type="text" name="pc" id="pc" class="form-control">
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-1"></div>
                <div class="form-group col-md-5">
                    <label for="opc"><small class="form-text text-muted">
                            Operación Contable
                        </small></label>
                    <input type="text" name="opc" id="opc" class="form-control">
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-1"></div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-4">
                    <label for="ofc"><small id="TextHelpBlock" class="form-text text-muted">
                            Oficina Contable
                        </small></label>
                    <select id="ofc" class="form-control" name="ofc">
                        <option value="">Seleccionar</option>
                        <option value="1">Opción 1</option>
                        <option value="2">Opción 2</option>
                    </select>
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-2"></div>
                <div class="form-group col-md-4">
                    <label for="org"><small id="TextHelpBlock" class="form-text text-muted">
                            Órgano Gestor
                        </small></label>
                    <select id="org" class="form-control" name="org">
                        <option value="">Seleccionar</option>
                        <option value="1">Opción 1</option>
                        <option value="2">Opción 2</option>
                    </select>
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-2"></div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-4">
                    <label for="udt"><small id="TextHelpBlock" class="form-text text-muted">
                            Unidad Tramitadora
                        </small></label>
                    <select id="udt" class="form-control" name="udt">
                        <option value="">Seleccionar</option>
                        <option value="1">Opción 1</option>
                        <option value="2">Opción 2</option>
                    </select>
                    <span class="help-block" id="error"></span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-3">
                    <label for="arg"><small id="TextHelpBlock" class="form-text text-muted">
                            Área Gestora
                        </small></label>
                    <select id="arg" class="form-control" name="arg">
                        <option value="">Seleccionar</option>
                        <option value="1">Opción 1</option>
                        <option value="2">Opción 2</option>
                    </select>
                    <span class="help-block" id="error"></span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-4">
                    <label for="desde"><small id="TextHelpBlock" class="form-text text-muted">
                            Facturación desde
                        </small></label>
                    <input type="date" name="desde" id="desde" class="form-control">
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-2"></div>
                <div class="form-group col-md-4">
                    <label for="hasta"><small id="TextHelpBlock" class="form-text text-muted">
                            Facturación hasta
                        </small></label>
                    <input type="date" name="hasta" id="hasta" class="form-control">
                    <span class="help-block" id="error"></span>
                </div>
                <div class="form-group col-md-2"></div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center">
                    <br><label for="detalle">Detalle</label><br>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <label for="textDet"><small class="form-text text-muted">
                            Es necesario indicar al menos una línea de detalle de la factura
                        </small></label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-7">
                    <div class="table-responsive">
                        <table id="table1" class="table table-striped table-sm table-dark">
                            <thead>
                                <tr>
                                    <th>Descripción del bien o servicio</th>
                                    <th>Cantidad</th>
                                    <th>Importe unitario</th>
                                    <th>Total</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody id="cuerpo"></tbody>
                            <tfoot class="tfoot1">
                                <tr>
                                    <th>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="desBoS" id="desBoS">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="cant" id="cant">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="impU" id="impU">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th></th>
                                    <th><button id="enviar" name="enviar" class="form-control btn btn-primary">Enviar</button></th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <small class="rojo">Total: 0.00</small>
            <div class="row">
                <div class="col-md-12 text-center">
                    <br><label for="detalle">I.V.A</label><br><br>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="table-responsive">
                        <table id="table1" class="table table-striped table-sm table-dark">
                            <thead>
                                <tr>
                                    <th>Tipo</th>
                                    <th>Base</th>
                                    <th>Cuota</th>
                                </tr>
                            </thead>
                            <tfoot class="tfoot1">
                                <tr>
                                    <th>
                                        <div class="form-group">
                                            <select id="tip1" class="form-control" name="tip1">
                                                <option value="">Seleccionar</option>
                                                <option value="1">Opción 1</option>
                                                <option value="2">Opción 2</option>
                                            </select>
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="base1" id="base1" placeholder="0.00">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>0.00</th>
                                </tr>
                                <tr>
                                    <th>
                                        <div class="form-group">
                                            <select id="tip2" class="form-control" name="tip2">
                                                <option value="">Seleccionar</option>
                                                <option value="1">Opción 1</option>
                                                <option value="2">Opción 2</option>
                                            </select>
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="base2" id="base2" placeholder="0.00">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>0.00</th>
                                </tr>
                                <tr>
                                    <th>
                                        <div class="form-group">
                                            <select id="tip3" class="form-control" name="tip3">
                                                <option value="">Seleccionar</option>
                                                <option value="1">Opción 1</option>
                                                <option value="2">Opción 2</option>
                                            </select>
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="base3" id="base3" placeholder="0.00">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>0.00</th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <small class="rojo">Total I.V.A: 0.00</small>
            <div class="row">
                <div class="col-md-12 text-center">
                    <br><label for="detalle">Descuentos de la factura</label><br><br>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8">
                    <div class="table-responsive">
                        <table id="table1" class="table table-striped table-sm table-dark">
                            <thead>
                                <tr>
                                    <th>Tipo descuento</th>
                                    <th>Tipo</th>
                                    <th>Base</th>
                                    <th>Cuota</th>
                                </tr>
                            </thead>
                            <tfoot class="tfoot1">
                                <tr>
                                    <th>I.R.P.F</th>
                                    <th>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="tip4" id="tip4" placeholder="0.00">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="base4" id="base4" placeholder="0.00">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>0.00</th>
                                </tr>
                                <tr>
                                    <th colspan="3">
                                        <div class="form-group">
                                            <span>Otro</span>
                                            <input type="text" class="form-control" name="otro" id="otro">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                    <th>
                                        <div class="form-group">
                                            <br>
                                            <input type="text" class="form-control" name="cuota" id="cuota" placeholder="0.00">
                                            <span class="help-block" id="error"></span>
                                        </div>
                                    </th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <small class="form-text text-muted">
                El importe de "Otros descuentos" minorará el importe total de la factura.
            </small>
            <small class="rojo">Total descuentos: 0.00</small><br><br>
            <div class="row">
                <div class="col-md-12">
                    <h5>Pago</h5><br>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group form-check col-md-1">
                    <input type="radio" class="form-check-input" name="pago" id="pago" value="checkedValue">
                </div>
                <div class="form-group col-md-3">
                    <label for="banc" class="form-check form-check-label">
                        Transferencia Bancaria:
                    </label>
                </div>
                <div class="col-md-1"></div>
                <div class="form-group col-md-7">
                    <select id="banc" class="form-control" name="banc">
                        <option value="">Seleccionar</option>
                        <option value="1">Opción 1</option>
                        <option value="2">Opción 2</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group form-check col-md-1">
                    <input type="radio" class="form-check-input" name="pago" id="pago" value="checkedValue">
                </div>
                <div class="form-group col-md-3">
                    <label for="otra" class="form-check form-check-label">
                        Otra forma de pago:
                    </label>
                </div>
                <div class="col-md-1"></div>
                <div class="form-group col-md-7">
                    <input type="text" name="otra" id="otra" class="form-control">
                </div>
            </div>
            <div class="form-row text-center">
                <div class="form-group col-md-12">
                    <button id="sig" class="btn btn-primary">Paso siguiente</button>
                    <button type="submit" class="btn btn-primary">Recalcular</button>
                    <button id="atras" class="btn btn-primary">Paso anterior</button>
                </div>
            </div>
        </form>
    </div>
</body>
<script>
    var contenido = '';

    $('document').ready(function () {

        $('#enviar').click(function (e) {
            if (($('#cant').val()) > 0 && ($('#impU').val()) > 0) {
                var tmp = '<tr>';
                tmp = tmp + '<td>' + $('#desBoS').val() + '</td>';
                tmp = tmp + '<td>' + $('#cant').val() + '</td>';
                tmp = tmp + '<td>' + $('#impU').val() + '</td>';
                tmp = tmp + '</tr>';
                contenido = contenido + tmp;
                $('#cuerpo').html(contenido);
            }
            e.preventDefault();
        });

        $(document).ready(function () {
            $('#volver').click(function (e) {
                e.preventDefault();
            });
        });

        $('#register-form').validate({
            rules:
            {
                tex: {
                    required: true,
                    maxlength: 255
                },
                dia: {
                    required: true
                },
                ser: {
                    required: true,
                    number: true
                },
                num: {
                    required: true,
                    number: true
                },
                tipF: {
                    required: true
                },
                ref: {
                    required: true
                },
                dep: {
                    required: true
                },
                pc: {
                    required: true
                },
                opc: {
                    required: true
                },
                ofc: {
                    required: true
                },
                org: {
                    required: true
                },
                udt: {
                    required: true
                },
                arg: {
                    required: true
                },
                desde: {
                    required: true
                },
                hasta: {
                    required: true
                },
                desBoS: {
                    required: true
                },
                cant: {
                    required: true,
                    number: true
                },
                impU: {
                    required: true,
                    number: true
                },
                tip1: {
                    required: true
                },
                base1: {
                    required: true,
                    number: true
                },
                tip2: {
                    required: true
                },
                base2: {
                    required: true,
                    number: true
                },
                tip3: {
                    required: true
                },
                base3: {
                    required: true,
                    number: true
                },
                tip4: {
                    required: true
                },
                base4: {
                    required: true,
                    number: true
                },
                otro: {
                    required: true,
                    maxlength: 255
                },
                cuota: {
                    required: true,
                    number: true
                }
            },
            messages:
            {
                tex: {
                    required: "Por favor, indique un texto explicativo",
                    maxlength: "Solo se permiten 255 caracteres"
                },
                dia: {
                    required: "Este campo es obligatorio"
                },
                ser: {
                    required: "Por favor, indique una serie",
                    number: "Solo se permiten números aquí"
                },
                num: {
                    required: "Por favor, indique un número",
                    number: "Solo se permiten números aquí"
                },
                tipF: {
                    required: "Por favor, indique un tipo de factura"
                },
                ref: {
                    required: "Por favor, indique una referencia"
                },
                dep: {
                    required: "Por favor, indique un departamento"
                },
                pc: {
                    required: "Por favor, indique una persona de contacto"
                },
                opc: {
                    required: "Por favor, indique una operación contable"
                },
                ofc: {
                    required: "Por favor, indique una oficina contable"
                },
                org: {
                    required: "Por favor, indique un órgano gestor"
                },
                udt: {
                    required: "Por favor, indique una unidad tramitadora"
                },
                arg: {
                    required: "Por favor, indique un área gestora"
                },
                desde: {
                    required: "Este campo es obligatorio"
                },
                hasta: {
                    required: "Este campo es obligatorio"
                },
                desBoS: {
                    required: "Por favor, indique una descripción"
                },
                cant: {
                    required: "Por favor, indique una cantidad",
                    number: "Solo se permiten números aquí"
                },
                impU: {
                    required: "Por favor, indique el importe unitario",
                    number: "Solo se permiten números aquí"
                },
                tip1: {
                    required: "Este campo es obligatorio"
                },
                base1: {
                    required: "Este campo es obligatorio",
                    number: "Solo se permiten números aquí"
                },
                tip2: {
                    required: "Este campo es obligatorio"
                },
                base2: {
                    required: "Este campo es obligatorio",
                    number: "Solo se permiten números aquí"
                },
                tip3: {
                    required: "Este campo es obligatorio"
                },
                base3: {
                    required: "Este campo es obligatorio",
                    number: "Solo se permiten números aquí"
                },
                tip4: {
                    required: "Este campo es obligatorio"
                },
                base4: {
                    required: "Este campo es obligatorio",
                    number: "Solo se permiten números aquí"
                },
                otro: {
                    required: "Este campo es obligatorio",
                    maxlength: "Solo se permiten 255 caracteres"
                },
                cuota: {
                    required: "Por favor, indique una cuota",
                    number: "Solo se permiten números aquí"
                }
            },
            errorPlacement: function (error, element) {
                $(element).closest('.form-group').find('.help-block').html(error.html());
            },
            highlight: function (element) {
                $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
            },
            unhighlight: function (element, errorClass, validClass) {
                $(element).closest('.form-group').removeClass('has-error').addClass('has-success');
                $(element).closest('.form-group').find('.help-block').html('');
            },
            submitHandler: function (form) {
                form.submit();
                alert('ok');
            }
        });
    });
</script>

</html>